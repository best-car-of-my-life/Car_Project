<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sist.mapper.main-mapper">
	<select id="newsMainData" resultType="NewsVO">
		SELECT news_no,title,detail_img,news_date,news_company FROM news WHERE news_no &lt; 10 ORDER BY news_no
	</select>
	
	<select id="carEfficiency" resultType="CarVO">
		SELECT A.*
		FROM (SELECT car_num,car_name,car_poster,car_price,car_launchdate,car_efficiency,car_size,car_fueltype,brand_name,rownum as num,comefficiency
		FROM(SELECT car_num,car_name,car_poster,car_price,car_launchdate,car_efficiency,car_size,car_fueltype,brand_name,TO_NUMBER(efficiency) as comefficiency
		FROM(SELECT car_num,car_name,car_poster,car_price,car_launchdate,car_efficiency,car_size,car_fueltype,brand_name,(CASE
             WHEN car_efficiency IS NULL THEN '0'
             WHEN car_efficiency LIKE '%~%' THEN SUBSTR(car_efficiency,0,INSTR(car_efficiency,'~',1,1)-1)
             else SUBSTR(car_efficiency,0,INSTR(car_efficiency,' ',1,1)-1) 
             END) AS efficiency FROM car) ORDER BY comefficiency DESC))A
             WHERE num &lt;6
	</select>
	
	<select id="carAccData" resultMap="AccVO">
		SELECT * from acc WHERE column_id &lt; 6
	</select>
</mapper>
